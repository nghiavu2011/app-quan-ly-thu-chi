/* ============================================
   DESIGN SYSTEM - Kakeibo Pro
   Version: 1.0
   Mobile-first + Web/PWA
   ============================================ */

/* ============================================
   1. DESIGN TOKENS
   ============================================ */

:root {
  /* === COLORS === */
  /* Primary */
  --color-primary: #2563EB;
  --color-primary-hover: #1D4ED8;
  --color-primary-light: #DBEAFE;
  
  /* Secondary */
  --color-secondary: #7C3AED;
  --color-secondary-hover: #6D28D9;
  --color-secondary-light: #EDE9FE;
  
  /* Semantic */
  --color-success: #22C55E;
  --color-success-light: #DCFCE7;
  --color-warning: #F59E0B;
  --color-warning-light: #FEF3C7;
  --color-danger: #EF4444;
  --color-danger-light: #FEE2E2;
  
  /* Neutral */
  --color-bg: #F3F4F6;
  --color-surface: #FFFFFF;
  --color-border: #E5E7EB;
  --color-border-strong: #D1D5DB;
  
  /* Text */
  --color-text: #111827;
  --color-text-secondary: #6B7280;
  --color-text-muted: #9CA3AF;
  --color-text-inverse: #FFFFFF;
  
  /* === TYPOGRAPHY === */
  --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-family-mono: 'SF Mono', 'Fira Code', monospace;
  
  /* Font Sizes */
  --text-xs: 0.75rem;    /* 12px */
  --text-sm: 0.875rem;   /* 14px */
  --text-base: 1rem;     /* 16px */
  --text-lg: 1.125rem;   /* 18px */
  --text-xl: 1.25rem;    /* 20px */
  --text-2xl: 1.5rem;    /* 24px */
  --text-3xl: 1.75rem;   /* 28px */
  --text-amount: 1.5rem; /* 24px - for money */
  
  /* Font Weights */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;
  
  /* Line Heights */
  --leading-tight: 1.25;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  
  /* === SPACING === */
  --space-1: 0.25rem;  /* 4px */
  --space-2: 0.5rem;   /* 8px */
  --space-3: 0.75rem;  /* 12px */
  --space-4: 1rem;     /* 16px */
  --space-5: 1.25rem;  /* 20px */
  --space-6: 1.5rem;   /* 24px */
  --space-8: 2rem;     /* 32px */
  --space-10: 2.5rem;  /* 40px */
  --space-12: 3rem;    /* 48px */
  
  /* === RADIUS === */
  --radius-sm: 0.25rem;  /* 4px */
  --radius-md: 0.5rem;   /* 8px */
  --radius-lg: 0.75rem;  /* 12px */
  --radius-xl: 1rem;     /* 16px */
  --radius-full: 9999px;
  
  /* === SHADOWS === */
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
  --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1);
  --shadow-xl: 0 20px 25px -5px rgba(0,0,0,0.1);
  
  /* === BORDERS === */
  --border-width: 1px;
  --border-width-2: 2px;
  
  /* === FOCUS === */
  --focus-ring: 0 0 0 3px rgba(37, 99, 235, 0.4);
  --focus-ring-danger: 0 0 0 3px rgba(239, 68, 68, 0.4);
  
  /* === MOTION === */
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --duration-slow: 350ms;
  --easing-default: cubic-bezier(0.4, 0, 0.2, 1);
  --easing-in: cubic-bezier(0.4, 0, 1, 1);
  --easing-out: cubic-bezier(0, 0, 0.2, 1);
  
  /* === Z-INDEX === */
  --z-dropdown: 100;
  --z-modal: 200;
  --z-toast: 300;
  --z-tooltip: 400;
  
  /* === TAP TARGET === */
  --tap-min: 44px;
}

/* === DARK MODE === */
@media (prefers-color-scheme: dark) {
  :root {
    --color-bg: #111827;
    --color-surface: #1F2937;
    --color-border: #374151;
    --color-border-strong: #4B5563;
    --color-text: #F9FAFB;
    --color-text-secondary: #D1D5DB;
    --color-text-muted: #9CA3AF;
    --color-primary: #3B82F6;
    --color-primary-hover: #60A5FA;
    --color-primary-light: #1E3A5F;
  }
}

/* Manual dark mode class */
.dark {
  --color-bg: #111827;
  --color-surface: #1F2937;
  --color-border: #374151;
  --color-border-strong: #4B5563;
  --color-text: #F9FAFB;
  --color-text-secondary: #D1D5DB;
  --color-text-muted: #9CA3AF;
  --color-primary: #3B82F6;
  --color-primary-hover: #60A5FA;
  --color-primary-light: #1E3A5F;
}

/* ============================================
   2. BASE STYLES (Reset + Defaults)
   ============================================ */

*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  -webkit-text-size-adjust: 100%;
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-family);
  font-size: var(--text-base);
  line-height: var(--leading-normal);
  color: var(--color-text);
  background-color: var(--color-bg);
  -webkit-font-smoothing: antialiased;
  min-height: 100vh;
}

/* Headings */
h1, .h1 { font-size: var(--text-3xl); font-weight: var(--font-bold); line-height: var(--leading-tight); }
h2, .h2 { font-size: var(--text-2xl); font-weight: var(--font-semibold); line-height: var(--leading-tight); }
h3, .h3 { font-size: var(--text-xl); font-weight: var(--font-semibold); }
h4, .h4 { font-size: var(--text-lg); font-weight: var(--font-medium); }

/* Text utilities */
.text-secondary { color: var(--color-text-secondary); }
.text-muted { color: var(--color-text-muted); }
.text-success { color: var(--color-success); }
.text-danger { color: var(--color-danger); }
.text-warning { color: var(--color-warning); }
.text-amount { font-size: var(--text-amount); font-weight: var(--font-bold); font-feature-settings: 'tnum'; }

/* Links */
a {
  color: var(--color-primary);
  text-decoration: none;
  transition: color var(--duration-fast) var(--easing-default);
}
a:hover { color: var(--color-primary-hover); }
a:focus-visible { outline: none; box-shadow: var(--focus-ring); border-radius: var(--radius-sm); }

/* Form Controls */
input, select, textarea, button {
  font-family: inherit;
  font-size: var(--text-base);
  line-height: var(--leading-normal);
}

input[type="text"],
input[type="number"],
input[type="email"],
input[type="tel"],
input[type="date"],
textarea,
select {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  border: var(--border-width) solid var(--color-border);
  border-radius: var(--radius-md);
  background: var(--color-surface);
  color: var(--color-text);
  transition: border-color var(--duration-fast), box-shadow var(--duration-fast);
  min-height: var(--tap-min);
}

input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: var(--focus-ring);
}

input::placeholder { color: var(--color-text-muted); }

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-6);
  font-size: var(--text-base);
  font-weight: var(--font-medium);
  border-radius: var(--radius-md);
  border: none;
  cursor: pointer;
  transition: all var(--duration-fast) var(--easing-default);
  min-height: var(--tap-min);
  min-width: var(--tap-min);
}

.btn-primary {
  background: var(--color-primary);
  color: var(--color-text-inverse);
}
.btn-primary:hover { background: var(--color-primary-hover); }
.btn-primary:focus-visible { box-shadow: var(--focus-ring); outline: none; }

.btn-secondary {
  background: var(--color-surface);
  color: var(--color-text);
  border: var(--border-width) solid var(--color-border);
}
.btn-secondary:hover { background: var(--color-bg); border-color: var(--color-border-strong); }

.btn-ghost {
  background: transparent;
  color: var(--color-primary);
}
.btn-ghost:hover { background: var(--color-primary-light); }

.btn-danger {
  background: var(--color-danger);
  color: var(--color-text-inverse);
}
.btn-danger:hover { background: #DC2626; }

.btn-lg { padding: var(--space-4) var(--space-8); font-size: var(--text-lg); }
.btn-sm { padding: var(--space-2) var(--space-4); font-size: var(--text-sm); min-height: 36px; }
.btn-block { width: 100%; }
.btn:disabled { opacity: 0.5; cursor: not-allowed; }

/* ============================================
   3. COMPONENTS
   ============================================ */

/* --- 3.1 CHIPS --- */
.chip {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  border-radius: var(--radius-full);
  border: var(--border-width) solid var(--color-border);
  background: var(--color-surface);
  color: var(--color-text);
  cursor: pointer;
  transition: all var(--duration-fast);
  min-height: 36px;
}
.chip:hover { border-color: var(--color-primary); background: var(--color-primary-light); }
.chip.selected {
  background: var(--color-primary);
  color: var(--color-text-inverse);
  border-color: var(--color-primary);
}
.chip.selected:hover { background: var(--color-primary-hover); }
.chip:disabled, .chip.disabled { opacity: 0.5; cursor: not-allowed; pointer-events: none; }
.chip-icon { font-size: 1rem; }
.chip-close { margin-left: var(--space-1); font-size: 0.875rem; opacity: 0.7; }
.chip-close:hover { opacity: 1; }

.chip-group {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

/* --- 3.2 ACCOUNT PICKER --- */
.account-picker {
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: var(--shadow-lg);
}
.account-picker-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-4);
  border-bottom: var(--border-width) solid var(--color-border);
  font-weight: var(--font-semibold);
}
.account-picker-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-4);
  cursor: pointer;
  transition: background var(--duration-fast);
  min-height: var(--tap-min);
}
.account-picker-item:hover { background: var(--color-bg); }
.account-picker-item.selected { background: var(--color-primary-light); }
.account-picker-item-icon { font-size: 1.5rem; }
.account-picker-item-info { flex: 1; }
.account-picker-item-name { font-weight: var(--font-medium); }
.account-picker-item-balance { font-size: var(--text-sm); color: var(--color-text-secondary); }
.account-picker-radio {
  width: 20px;
  height: 20px;
  border: 2px solid var(--color-border-strong);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}
.account-picker-item.selected .account-picker-radio {
  border-color: var(--color-primary);
  background: var(--color-primary);
}
.account-picker-item.selected .account-picker-radio::after {
  content: '';
  width: 8px;
  height: 8px;
  background: white;
  border-radius: 50%;
}

/* --- 3.3 DATE PICKER FIELD --- */
.date-field {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-4);
  border: var(--border-width) solid var(--color-border);
  border-radius: var(--radius-md);
  background: var(--color-surface);
  cursor: pointer;
  min-height: var(--tap-min);
  transition: border-color var(--duration-fast);
}
.date-field:hover { border-color: var(--color-border-strong); }
.date-field:focus-within { border-color: var(--color-primary); box-shadow: var(--focus-ring); }
.date-field-icon { color: var(--color-text-secondary); }
.date-field-value { flex: 1; }
.date-field-placeholder { color: var(--color-text-muted); }

.date-picker-quick {
  display: flex;
  gap: var(--space-2);
  padding: var(--space-3);
  border-bottom: var(--border-width) solid var(--color-border);
}
.date-picker-quick .chip { flex: 1; justify-content: center; }

/* --- 3.4 AMOUNT KEYPAD --- */
.keypad {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-2);
  padding: var(--space-3);
  background: var(--color-bg);
  border-radius: var(--radius-lg);
}
.keypad-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 56px;
  font-size: var(--text-xl);
  font-weight: var(--font-semibold);
  background: var(--color-surface);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background var(--duration-fast);
  -webkit-tap-highlight-color: transparent;
}
.keypad-btn:hover { background: var(--color-border); }
.keypad-btn:active { background: var(--color-border-strong); transform: scale(0.98); }
.keypad-btn.primary {
  background: var(--color-primary);
  color: var(--color-text-inverse);
}
.keypad-btn.primary:hover { background: var(--color-primary-hover); }
.keypad-btn.helper {
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
}

.amount-display {
  font-size: 2rem;
  font-weight: var(--font-bold);
  text-align: right;
  padding: var(--space-4);
  font-feature-settings: 'tnum';
}
.amount-display-currency { font-size: var(--text-lg); color: var(--color-text-secondary); margin-left: var(--space-2); }

/* --- 3.5 KPI CARD --- */
.kpi-card {
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  box-shadow: var(--shadow-sm);
}
.kpi-card-label {
  font-size: var(--text-xs);
  font-weight: var(--font-medium);
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}
.kpi-card-value {
  font-size: var(--text-xl);
  font-weight: var(--font-bold);
  margin-top: var(--space-1);
  font-feature-settings: 'tnum';
}
.kpi-card-value.positive { color: var(--color-success); }
.kpi-card-value.negative { color: var(--color-danger); }
.kpi-card-trend {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--text-sm);
  margin-top: var(--space-2);
}
.kpi-card-trend.up { color: var(--color-success); }
.kpi-card-trend.down { color: var(--color-danger); }

.kpi-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-3);
}

/* --- 3.6 CHART CARD --- */
.chart-card {
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
}
.chart-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-4);
  border-bottom: var(--border-width) solid var(--color-border);
}
.chart-card-title { font-weight: var(--font-semibold); }
.chart-card-action { color: var(--color-text-muted); cursor: pointer; }
.chart-card-body { padding: var(--space-4); min-height: 200px; }
.chart-card-legend {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  border-top: var(--border-width) solid var(--color-border);
  font-size: var(--text-sm);
}
.chart-legend-item {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}
.chart-legend-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
}

/* --- 3.7 EMPTY STATE --- */
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: var(--space-10) var(--space-6);
  min-height: 300px;
}
.empty-state-icon {
  font-size: 4rem;
  margin-bottom: var(--space-4);
  opacity: 0.5;
}
.empty-state-title {
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  margin-bottom: var(--space-2);
}
.empty-state-desc {
  color: var(--color-text-secondary);
  margin-bottom: var(--space-6);
  max-width: 280px;
}
.empty-state-actions {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  width: 100%;
  max-width: 240px;
}

/* --- 3.8 ERROR STATE --- */
.error-state {
  background: var(--color-danger-light);
  border: var(--border-width) solid var(--color-danger);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
}
.error-state-header {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-weight: var(--font-semibold);
  color: var(--color-danger);
  margin-bottom: var(--space-3);
}
.error-state-list { list-style: none; }
.error-state-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-2) 0;
  border-bottom: var(--border-width) solid rgba(239,68,68,0.2);
}
.error-state-item:last-child { border-bottom: none; }
.error-state-fix {
  color: var(--color-primary);
  font-weight: var(--font-medium);
  cursor: pointer;
}
.error-state-actions {
  display: flex;
  gap: var(--space-3);
  margin-top: var(--space-4);
}

/* --- 3.9 UNDO TOAST --- */
.toast {
  position: fixed;
  bottom: calc(56px + var(--space-4)); /* Above bottom nav */
  left: var(--space-4);
  right: var(--space-4);
  background: var(--color-text);
  color: var(--color-text-inverse);
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-xl);
  display: flex;
  align-items: center;
  gap: var(--space-3);
  z-index: var(--z-toast);
  animation: slideUp var(--duration-normal) var(--easing-out);
}
.toast-icon { font-size: 1.25rem; }
.toast-message { flex: 1; }
.toast-action {
  color: var(--color-primary-light);
  font-weight: var(--font-semibold);
  cursor: pointer;
  background: none;
  border: none;
  padding: var(--space-2);
}
.toast-progress {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 3px;
  background: var(--color-primary);
  border-radius: 0 0 var(--radius-lg) var(--radius-lg);
  animation: shrink 3s linear forwards;
}
@keyframes slideUp {
  from { transform: translateY(100%); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
@keyframes shrink {
  from { width: 100%; }
  to { width: 0; }
}

/* ============================================
   4. LAYOUT PRIMITIVES
   ============================================ */

/* --- App Container --- */
.app {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  max-width: 100%;
}
.app-content {
  flex: 1;
  padding: var(--space-4);
  padding-bottom: calc(56px + var(--space-4)); /* Space for bottom nav */
  overflow-y: auto;
}

/* --- Top Bar --- */
.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 56px;
  padding: 0 var(--space-4);
  background: var(--color-surface);
  border-bottom: var(--border-width) solid var(--color-border);
  position: sticky;
  top: 0;
  z-index: var(--z-dropdown);
}
.topbar-back {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  color: var(--color-text);
  min-width: var(--tap-min);
  min-height: var(--tap-min);
}
.topbar-title {
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  flex: 1;
  text-align: center;
}
.topbar-actions {
  display: flex;
  gap: var(--space-2);
}
.topbar-btn {
  width: var(--tap-min);
  height: var(--tap-min);
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-full);
  background: transparent;
  border: none;
  cursor: pointer;
  color: var(--color-text);
}
.topbar-btn:hover { background: var(--color-bg); }

/* --- Bottom Navigation --- */
.bottom-nav {
  display: flex;
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 56px;
  background: var(--color-surface);
  border-top: var(--border-width) solid var(--color-border);
  z-index: var(--z-dropdown);
}
.bottom-nav-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;
  color: var(--color-text-muted);
  text-decoration: none;
  font-size: var(--text-xs);
  transition: color var(--duration-fast);
  position: relative;
  min-height: var(--tap-min);
}
.bottom-nav-item:hover { color: var(--color-text-secondary); }
.bottom-nav-item.active { color: var(--color-primary); }
.bottom-nav-item-icon { font-size: 1.25rem; }
.bottom-nav-badge {
  position: absolute;
  top: 4px;
  right: calc(50% - 16px);
  min-width: 18px;
  height: 18px;
  background: var(--color-danger);
  color: white;
  font-size: 10px;
  font-weight: var(--font-bold);
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 4px;
}

/* FAB */
.fab {
  position: fixed;
  bottom: calc(56px + var(--space-4));
  right: var(--space-4);
  width: 56px;
  height: 56px;
  border-radius: var(--radius-full);
  background: var(--color-primary);
  color: var(--color-text-inverse);
  border: none;
  box-shadow: var(--shadow-lg);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  z-index: var(--z-dropdown);
  transition: transform var(--duration-fast), background var(--duration-fast);
}
.fab:hover { background: var(--color-primary-hover); transform: scale(1.05); }
.fab:active { transform: scale(0.95); }

/* --- Cards --- */
.card {
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  box-shadow: var(--shadow-sm);
}
.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-3);
}
.card-title { font-weight: var(--font-semibold); }
.card-clickable { cursor: pointer; transition: box-shadow var(--duration-fast); }
.card-clickable:hover { box-shadow: var(--shadow-md); }

/* --- List Items --- */
.list-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  min-height: var(--tap-min);
  transition: background var(--duration-fast);
}
.list-item:hover { background: var(--color-bg); }
.list-item-icon { font-size: 1.5rem; flex-shrink: 0; }
.list-item-content { flex: 1; min-width: 0; }
.list-item-title { font-weight: var(--font-medium); }
.list-item-subtitle { font-size: var(--text-sm); color: var(--color-text-secondary); }
.list-item-value { text-align: right; font-weight: var(--font-semibold); font-feature-settings: 'tnum'; }
.list-item-value.positive { color: var(--color-success); }
.list-item-value.negative { color: var(--color-danger); }
.list-item-arrow { color: var(--color-text-muted); }

/* --- Divider --- */
.divider {
  height: var(--border-width);
  background: var(--color-border);
  margin: var(--space-3) 0;
}
.divider-text {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  color: var(--color-text-secondary);
  font-size: var(--text-sm);
}
.divider-text::before, .divider-text::after {
  content: '';
  flex: 1;
  height: var(--border-width);
  background: var(--color-border);
}

/* --- Bottom Sheet --- */
.bottom-sheet {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--color-surface);
  border-radius: var(--radius-xl) var(--radius-xl) 0 0;
  box-shadow: var(--shadow-xl);
  z-index: var(--z-modal);
  max-height: 90vh;
  overflow-y: auto;
  animation: slideUp var(--duration-normal) var(--easing-out);
}
.bottom-sheet-handle {
  width: 40px;
  height: 4px;
  background: var(--color-border-strong);
  border-radius: var(--radius-full);
  margin: var(--space-3) auto;
}
.bottom-sheet-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  z-index: calc(var(--z-modal) - 1);
}

/* ============================================
   5. UTILITIES
   ============================================ */

/* Flex */
.flex { display: flex; }
.flex-col { flex-direction: column; }
.items-center { align-items: center; }
.justify-between { justify-content: space-between; }
.justify-center { justify-content: center; }
.gap-1 { gap: var(--space-1); }
.gap-2 { gap: var(--space-2); }
.gap-3 { gap: var(--space-3); }
.gap-4 { gap: var(--space-4); }

/* Spacing */
.p-3 { padding: var(--space-3); }
.p-4 { padding: var(--space-4); }
.px-4 { padding-left: var(--space-4); padding-right: var(--space-4); }
.py-3 { padding-top: var(--space-3); padding-bottom: var(--space-3); }
.mt-4 { margin-top: var(--space-4); }
.mb-4 { margin-bottom: var(--space-4); }

/* Text */
.text-center { text-align: center; }
.text-right { text-align: right; }
.font-medium { font-weight: var(--font-medium); }
.font-semibold { font-weight: var(--font-semibold); }
.font-bold { font-weight: var(--font-bold); }

/* Display */
.hidden { display: none; }
.sr-only { position: absolute; width: 1px; height: 1px; overflow: hidden; clip: rect(0,0,0,0); }

/* ============================================
   6. RESPONSIVE
   ============================================ */

/* Mobile First - Default styles */

/* Tablet: 768px+ */
@media (min-width: 768px) {
  .app-content {
    max-width: 600px;
    margin: 0 auto;
    padding: var(--space-6);
  }
  
  .kpi-grid {
    grid-template-columns: repeat(4, 1fr);
  }
  
  .bottom-nav {
    max-width: 600px;
    left: 50%;
    transform: translateX(-50%);
    border-radius: var(--radius-xl) var(--radius-xl) 0 0;
  }
  
  .fab {
    right: calc(50% - 300px + var(--space-4));
  }
}

/* Desktop: 1024px+ */
@media (min-width: 1024px) {
  .app {
    flex-direction: row;
  }
  
  .app-content {
    max-width: 800px;
    padding-bottom: var(--space-6);
  }
  
  .bottom-nav {
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    right: auto;
    width: 80px;
    height: 100vh;
    flex-direction: column;
    border-top: none;
    border-right: var(--border-width) solid var(--color-border);
    border-radius: 0;
    transform: none;
  }
  
  .bottom-nav-item {
    padding: var(--space-4) 0;
  }
  
  .app-content {
    margin-left: 80px;
  }
  
  .fab {
    bottom: var(--space-6);
    right: var(--space-6);
  }
}

/* Large Text Mode */
.large-text {
  --text-xs: 0.875rem;
  --text-sm: 1rem;
  --text-base: 1.125rem;
  --text-lg: 1.25rem;
  --text-xl: 1.5rem;
  --text-2xl: 1.75rem;
  --text-3xl: 2rem;
}

/* ============================================
   7. ADDITIONAL COMPONENTS (From UX Spec)
   ============================================ */

/* --- 7.1 TOGGLE / SEGMENT CONTROL --- */
.toggle-group {
  display: flex;
  background: var(--color-bg);
  border-radius: var(--radius-lg);
  padding: var(--space-1);
  gap: var(--space-1);
}
.toggle-btn {
  flex: 1;
  padding: var(--space-2) var(--space-4);
  border: none;
  border-radius: var(--radius-md);
  background: transparent;
  color: var(--color-text-secondary);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  cursor: pointer;
  transition: all var(--duration-fast);
  min-height: 36px;
}
.toggle-btn.active {
  background: var(--color-surface);
  color: var(--color-text);
  box-shadow: var(--shadow-sm);
}
.toggle-btn.income.active {
  background: var(--color-success);
  color: var(--color-text-inverse);
}
.toggle-btn.expense.active {
  background: var(--color-danger);
  color: var(--color-text-inverse);
}

/* --- 7.2 SWITCH (Thu/Chi Toggle) --- */
.switch {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-1);
  background: var(--color-bg);
  border-radius: var(--radius-full);
  position: relative;
}
.switch-option {
  padding: var(--space-2) var(--space-6);
  border-radius: var(--radius-full);
  font-weight: var(--font-semibold);
  cursor: pointer;
  transition: all var(--duration-fast);
  z-index: 1;
}
.switch-option.active {
  background: var(--color-surface);
  box-shadow: var(--shadow-sm);
}
.switch-option.income { color: var(--color-success); }
.switch-option.income.active { 
  background: var(--color-success); 
  color: var(--color-text-inverse);
}
.switch-option.expense { color: var(--color-danger); }
.switch-option.expense.active { 
  background: var(--color-danger); 
  color: var(--color-text-inverse);
}

/* --- 7.3 VOICE INPUT MODAL --- */
.voice-modal {
  position: fixed;
  inset: 0;
  background: var(--color-surface);
  z-index: var(--z-modal);
  display: flex;
  flex-direction: column;
  animation: fadeIn var(--duration-normal);
}
.voice-modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-4);
  border-bottom: var(--border-width) solid var(--color-border);
}
.voice-modal-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-6);
}
.voice-wave {
  display: flex;
  align-items: center;
  gap: 4px;
  height: 60px;
  margin-bottom: var(--space-6);
}
.voice-wave-bar {
  width: 4px;
  background: var(--color-primary);
  border-radius: var(--radius-full);
  animation: wave 1s ease-in-out infinite;
}
.voice-wave-bar:nth-child(1) { height: 20px; animation-delay: 0s; }
.voice-wave-bar:nth-child(2) { height: 35px; animation-delay: 0.1s; }
.voice-wave-bar:nth-child(3) { height: 50px; animation-delay: 0.2s; }
.voice-wave-bar:nth-child(4) { height: 35px; animation-delay: 0.3s; }
.voice-wave-bar:nth-child(5) { height: 20px; animation-delay: 0.4s; }
@keyframes wave {
  0%, 100% { transform: scaleY(1); }
  50% { transform: scaleY(0.5); }
}
.voice-mic-btn {
  width: 80px;
  height: 80px;
  border-radius: var(--radius-full);
  background: var(--color-primary);
  color: var(--color-text-inverse);
  border: none;
  font-size: 2rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.4);
  animation: pulse 2s infinite;
}
.voice-mic-btn.recording {
  background: var(--color-danger);
  animation: pulse-red 1s infinite;
}
@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.4); }
  70% { box-shadow: 0 0 0 20px rgba(37, 99, 235, 0); }
  100% { box-shadow: 0 0 0 0 rgba(37, 99, 235, 0); }
}
@keyframes pulse-red {
  0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
  70% { box-shadow: 0 0 0 20px rgba(239, 68, 68, 0); }
  100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
}
.voice-preview {
  background: var(--color-bg);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  margin-top: var(--space-6);
  width: 100%;
  max-width: 400px;
}
.voice-preview-field {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-2) 0;
  border-bottom: var(--border-width) solid var(--color-border);
}
.voice-preview-field:last-child { border-bottom: none; }
.voice-preview-label { color: var(--color-text-secondary); font-size: var(--text-sm); }
.voice-preview-value { font-weight: var(--font-medium); }

/* --- 7.4 REMINDER / NOTIFICATION LIST --- */
.reminder-list { display: flex; flex-direction: column; gap: var(--space-2); }
.reminder-item {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  border-left: 3px solid var(--color-warning);
  box-shadow: var(--shadow-sm);
}
.reminder-item.urgent { border-left-color: var(--color-danger); }
.reminder-item.success { border-left-color: var(--color-success); }
.reminder-icon { font-size: 1.25rem; flex-shrink: 0; margin-top: 2px; }
.reminder-content { flex: 1; }
.reminder-title { font-weight: var(--font-medium); margin-bottom: var(--space-1); }
.reminder-meta { font-size: var(--text-sm); color: var(--color-text-secondary); }
.reminder-actions { display: flex; gap: var(--space-2); }
.reminder-btn {
  padding: var(--space-1) var(--space-3);
  font-size: var(--text-sm);
  border-radius: var(--radius-md);
  border: none;
  cursor: pointer;
  min-height: 32px;
}
.reminder-btn.primary { background: var(--color-primary); color: var(--color-text-inverse); }
.reminder-btn.secondary { background: var(--color-bg); color: var(--color-text); }

/* --- 7.5 STATUS BADGES --- */
.badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-2);
  font-size: var(--text-xs);
  font-weight: var(--font-medium);
  border-radius: var(--radius-full);
}
.badge-success { background: var(--color-success-light); color: var(--color-success); }
.badge-warning { background: var(--color-warning-light); color: var(--color-warning); }
.badge-danger { background: var(--color-danger-light); color: var(--color-danger); }
.badge-neutral { background: var(--color-bg); color: var(--color-text-secondary); }
.badge-dot { width: 6px; height: 6px; border-radius: 50%; }
.badge-success .badge-dot { background: var(--color-success); }
.badge-warning .badge-dot { background: var(--color-warning); }
.badge-danger .badge-dot { background: var(--color-danger); }

/* --- 7.6 SEARCH FIELD --- */
.search-field {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-4);
  background: var(--color-bg);
  border-radius: var(--radius-full);
  border: var(--border-width) solid transparent;
  transition: all var(--duration-fast);
}
.search-field:focus-within {
  background: var(--color-surface);
  border-color: var(--color-primary);
  box-shadow: var(--focus-ring);
}
.search-field-icon { color: var(--color-text-muted); font-size: 1.25rem; }
.search-field input {
  flex: 1;
  border: none;
  background: transparent;
  padding: 0;
  min-height: auto;
}
.search-field input:focus { box-shadow: none; }
.search-field-clear {
  color: var(--color-text-muted);
  cursor: pointer;
  padding: var(--space-1);
}

/* --- 7.7 PERIOD SELECTOR --- */
.period-selector {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  background: var(--color-bg);
  border-radius: var(--radius-md);
  cursor: pointer;
}
.period-selector-icon { color: var(--color-text-secondary); }
.period-selector-value { font-weight: var(--font-medium); font-size: var(--text-sm); }
.period-nav {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}
.period-nav-btn {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-md);
  border: none;
  background: var(--color-bg);
  cursor: pointer;
  color: var(--color-text);
}
.period-nav-btn:hover { background: var(--color-border); }

/* --- 7.8 RENTAL UNIT CARD --- */
.unit-card {
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  box-shadow: var(--shadow-sm);
  border-left: 4px solid var(--color-border);
}
.unit-card.rented { border-left-color: var(--color-success); }
.unit-card.available { border-left-color: var(--color-primary); }
.unit-card.maintenance { border-left-color: var(--color-warning); }
.unit-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--space-3);
}
.unit-card-name { font-weight: var(--font-semibold); font-size: var(--text-lg); }
.unit-card-info { display: flex; flex-direction: column; gap: var(--space-1); }
.unit-card-tenant { font-size: var(--text-sm); color: var(--color-text-secondary); }
.unit-card-rent { font-weight: var(--font-semibold); color: var(--color-text); }
.unit-card-contract { font-size: var(--text-sm); color: var(--color-text-secondary); }
.unit-card-actions {
  display: flex;
  gap: var(--space-2);
  margin-top: var(--space-3);
  padding-top: var(--space-3);
  border-top: var(--border-width) solid var(--color-border);
}

/* --- 7.9 TENANT CARD --- */
.tenant-card {
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  box-shadow: var(--shadow-sm);
}
.tenant-card-header {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}
.tenant-avatar {
  width: 48px;
  height: 48px;
  border-radius: var(--radius-full);
  background: var(--color-primary-light);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
}
.tenant-info { flex: 1; }
.tenant-name { font-weight: var(--font-semibold); }
.tenant-phone { font-size: var(--text-sm); color: var(--color-text-secondary); }
.tenant-details {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
}

/* --- 7.10 RECEIVABLE CARD --- */
.receivable-card {
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  box-shadow: var(--shadow-sm);
  border-left: 3px solid var(--color-warning);
}
.receivable-card.overdue { border-left-color: var(--color-danger); }
.receivable-card.paid { border-left-color: var(--color-success); }
.receivable-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--space-2);
}
.receivable-title { font-weight: var(--font-semibold); }
.receivable-amount { font-weight: var(--font-bold); font-size: var(--text-lg); }
.receivable-tenant { font-size: var(--text-sm); color: var(--color-text-secondary); margin-bottom: var(--space-1); }
.receivable-due {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-warning);
}
.receivable-due.overdue { color: var(--color-danger); }
.receivable-actions {
  display: flex;
  gap: var(--space-2);
  margin-top: var(--space-3);
}

/* --- 7.11 FORM VALIDATION STATES --- */
.input-group { margin-bottom: var(--space-4); }
.input-label {
  display: block;
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-2);
}
.input-error {
  border-color: var(--color-danger) !important;
  box-shadow: var(--focus-ring-danger) !important;
}
.input-error-message {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-danger);
  margin-top: var(--space-2);
}
.input-hint {
  font-size: var(--text-sm);
  color: var(--color-text-muted);
  margin-top: var(--space-2);
}
.input-success {
  border-color: var(--color-success) !important;
}

/* --- 7.12 LOADING & PROGRESS --- */
.skeleton {
  background: linear-gradient(90deg, var(--color-bg) 25%, var(--color-border) 50%, var(--color-bg) 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: var(--radius-md);
}
@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
.spinner {
  width: 24px;
  height: 24px;
  border: 3px solid var(--color-border);
  border-top-color: var(--color-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
@keyframes spin {
  to { transform: rotate(360deg); }
}
.progress-bar {
  height: 8px;
  background: var(--color-bg);
  border-radius: var(--radius-full);
  overflow: hidden;
}
.progress-bar-fill {
  height: 100%;
  background: var(--color-primary);
  border-radius: var(--radius-full);
  transition: width var(--duration-normal);
}
.progress-bar-fill.success { background: var(--color-success); }
.progress-bar-fill.warning { background: var(--color-warning); }
.progress-bar-fill.danger { background: var(--color-danger); }

/* --- 7.13 AI INSIGHTS CARD --- */
.insight-card {
  background: linear-gradient(135deg, var(--color-primary-light) 0%, var(--color-surface) 100%);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  border: var(--border-width) solid var(--color-primary-light);
}
.insight-header {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
  color: var(--color-primary);
}
.insight-icon { font-size: 1.25rem; }
.insight-title { font-weight: var(--font-semibold); }
.insight-content { color: var(--color-text); margin-bottom: var(--space-3); }
.insight-action {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  color: var(--color-primary);
  font-weight: var(--font-medium);
  font-size: var(--text-sm);
  cursor: pointer;
}

/* --- 7.14 IMPORT STEP INDICATOR --- */
.step-indicator {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  margin-bottom: var(--space-6);
}
.step {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-2);
}
.step-dot {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--color-bg);
  border: 2px solid var(--color-border);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--font-bold);
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
}
.step.active .step-dot {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-text-inverse);
}
.step.completed .step-dot {
  background: var(--color-success);
  border-color: var(--color-success);
  color: var(--color-text-inverse);
}
.step-label { font-size: var(--text-xs); color: var(--color-text-secondary); }
.step.active .step-label { color: var(--color-primary); font-weight: var(--font-medium); }
.step-connector {
  width: 40px;
  height: 2px;
  background: var(--color-border);
}
.step-connector.completed { background: var(--color-success); }

/* --- 7.15 TRANSACTION LIST ITEM --- */
.transaction-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  margin-bottom: var(--space-2);
}
.transaction-icon {
  width: 40px;
  height: 40px;
  border-radius: var(--radius-full);
  background: var(--color-bg);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.25rem;
  flex-shrink: 0;
}
.transaction-content { flex: 1; min-width: 0; }
.transaction-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-1);
}
.transaction-title {
  font-weight: var(--font-medium);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.transaction-amount {
  font-weight: var(--font-bold);
  font-feature-settings: 'tnum';
  flex-shrink: 0;
}
.transaction-amount.income { color: var(--color-success); }
.transaction-amount.expense { color: var(--color-danger); }
.transaction-meta {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
}
.transaction-account::before { content: 'â€¢'; margin-right: var(--space-2); }

/* --- 7.16 MODULE CARDS (HOME) --- */
.module-card {
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  box-shadow: var(--shadow-sm);
  cursor: pointer;
  transition: all var(--duration-fast);
  border: var(--border-width) solid transparent;
}
.module-card:hover {
  box-shadow: var(--shadow-md);
  border-color: var(--color-primary-light);
}
.module-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-3);
}
.module-card-title {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-weight: var(--font-semibold);
  font-size: var(--text-lg);
}
.module-card-icon { font-size: 1.5rem; }
.module-card-arrow { color: var(--color-text-muted); }
.module-card-stats {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}
.module-card-stat {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: var(--text-sm);
}
.module-card-label { color: var(--color-text-secondary); }
.module-card-value { font-weight: var(--font-semibold); }
.module-card-value.income { color: var(--color-success); }
.module-card-value.expense { color: var(--color-danger); }

/* --- 7.17 MODAL / DIALOG --- */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: var(--z-modal);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-4);
  animation: fadeIn var(--duration-fast);
}
.modal {
  background: var(--color-surface);
  border-radius: var(--radius-xl);
  max-width: 400px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: var(--shadow-xl);
  animation: scaleIn var(--duration-normal);
}
.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--space-4) var(--space-4) 0;
}
.modal-title { font-weight: var(--font-semibold); font-size: var(--text-lg); }
.modal-close {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-full);
  border: none;
  background: transparent;
  cursor: pointer;
  color: var(--color-text-secondary);
}
.modal-close:hover { background: var(--color-bg); }
.modal-body { padding: var(--space-4); }
.modal-footer {
  display: flex;
  gap: var(--space-3);
  padding: 0 var(--space-4) var(--space-4);
}
.modal-footer .btn { flex: 1; }

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes scaleIn {
  from { transform: scale(0.95); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

/* --- 7.18 FILTER SHEET --- */
.filter-section { margin-bottom: var(--space-4); }
.filter-label {
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-2);
  display: block;
}
.filter-chips {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}
.filter-range {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}
.filter-range input {
  flex: 1;
}
.filter-range-separator { color: var(--color-text-muted); }
.filter-actions {
  display: flex;
  gap: var(--space-3);
  margin-top: var(--space-6);
  padding-top: var(--space-4);
  border-top: var(--border-width) solid var(--color-border);
}
.filter-actions .btn { flex: 1; }
.filter-badge {
  background: var(--color-primary);
  color: var(--color-text-inverse);
  padding: 2px 6px;
  border-radius: var(--radius-full);
  font-size: var(--text-xs);
  font-weight: var(--font-bold);
  margin-left: var(--space-2);
}

/* ============================================
   8. ANIMATIONS & TRANSITIONS
   ============================================ */

.slide-in-right { animation: slideInRight var(--duration-normal) var(--easing-out); }
.slide-out-right { animation: slideOutRight var(--duration-normal) var(--easing-in); }
.slide-in-up { animation: slideUp var(--duration-normal) var(--easing-out); }
.slide-out-down { animation: slideOutDown var(--duration-normal) var(--easing-in); }
.fade-in { animation: fadeIn var(--duration-normal); }
.fade-out { animation: fadeOut var(--duration-normal); }

@keyframes slideInRight {
  from { transform: translateX(100%); }
  to { transform: translateX(0); }
}
@keyframes slideOutRight {
  from { transform: translateX(0); }
  to { transform: translateX(100%); }
}
@keyframes slideOutDown {
  from { transform: translateY(0); }
  to { transform: translateY(100%); }
}
@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

/* Touch feedback */
.touch-feedback {
  transition: transform var(--duration-fast), background var(--duration-fast);
}
.touch-feedback:active {
  transform: scale(0.98);
  background: var(--color-bg);
}
